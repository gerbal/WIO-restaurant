<html>
<body prefix="helpdesk: https://rawgit.com/sils-webinfo/helpdesk/master/vocab.ttl# schema: http://schema.org/ bbc: http://purl.org/ontology/fo/"
      typeof="dish:Recipe" "helpdesk:HelpRequest">

<a href="http://www.w3.org/2012/pyRdfa/extract?uri=referer">
view data extracted from RDFa markup</a><br>

<h1 class="title" property="schema:name">{{ dish.title }}</h1> 

<p class="description" property="schema:description">{{ dish.description }}</p>
  
<form class="dish-editor" method="patch">

  <label>Ingredient<br>
    <ul>
      {% for Ingredient in dish.IngredientList %}
      <li
          property="bbc:Ingredient">
        <p property="text">{{ Ingredient }}</p>
      </li>
      {% endfor %}
    </ul>
    <textarea name="Ingredient"></textarea>
  </label>
  <br>
  
  <label>description<br>
    <ul>
      {% for description in dish.description %}
      <li
          property="schema:description" typeof="Comment">
        <p property="text">{{ description }}</p>
      </li>
      {% endfor %}
    </ul>
    <textarea name="description"></textarea>
  </label>
  <br>
  
  <input class="update" type="submit" value="update help request">
  <script>
    var form = document.querySelector('form.dish-editor');
    var button = document.querySelector('form.dish-editor input.update');

    button.addEventListener('click', function (event) {
      event.preventDefault();
      var request = new XMLHttpRequest();
      request.open('PATCH', window.location.pathname);
      request.send(new FormData(form));
    }, false);
  </script>
</form>
</body>
</html>
