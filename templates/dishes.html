<html>
<body prefix="schema: http://schema.org/ bbc: http://purl.org/ontology/fo/"
      typeof="bbc:Recipe" >

<a href="http://www.w3.org/2012/pyRdfa/extract?uri=referer">
view data extracted from RDFa markup</a><br>

<h1 class="title" property="schema:name">{{ dish.dish }}</h1>

<p class="description" property="schema:description">{{ dish.dish_description }}</p>
  
<form class="dish-editor" method="patch">

  <label>Ingredient<br>
    <ul>
      {% for ingredient in dish.ingredient_list %}
      <li
          typeof="bbc:Ingredient">
        <p property="schema:name">{{ dish.ingredient_list[ingredient]['ingredient'] }}</p>
        <span property="schema:description" >{{ dish.ingredient_list[ingredient]['ingredient_description'] }}</span>
      </li>
	      {% endfor %}
  </label>
  <br>
  
  <label>description<br>
      <li
          property="schema:description" typeof="Comment">
        <p property="text">{{ dish.dish_description }}</p>
      </li>
    </ul>
  </label>
  <br>
  
  <input class="update" type="submit" value="update help request">
  <script>
    var form = document.querySelector('form.dish-editor');
    var button = document.querySelector('form.dish-editor input.update');

    button.addEventListener('click', function (event) {
      event.preventDefault();
      var request = new XMLHttpRequest();
      request.open('PATCH', window.location.pathname);
      request.send(new FormData(form));
    }, false);
  </script>
</form>
</body>
</html>
